{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhruvashedbalkar/Desktop/QB.Club/lib/db.ts"],"sourcesContent":["import { MongoClient, Db } from 'mongodb'\n\nlet client: MongoClient | null = null\nlet db: Db | null = null\n\nexport async function getDb(): Promise<Db> {\n  const uri = process.env.MONGODB_URI\n  if (!uri) {\n    throw new Error('MONGODB_URI env var is not set')\n  }\n\n  if (db) return db\n\n  if (!client) {\n    client = new MongoClient(uri)\n    await client.connect()\n  }\n\n  db = client.db(process.env.MONGODB_DB || 'BCQC')\n\n  const users = db.collection('users')\n  await users.createIndex({ email: 1 }, { unique: true })\n  await users.createIndex({ username: 1 }, { unique: true, sparse: true })\n\n  return db\n}\n\nexport async function closeDb() {\n  if (client) {\n    await client.close()\n    client = null\n    db = null\n  }\n}"],"names":[],"mappings":";;;;;;AAAA;;AAEA,IAAI,SAA6B;AACjC,IAAI,KAAgB;AAEb,eAAe;IACpB,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;IACnC,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,IAAI,OAAO;IAEf,IAAI,CAAC,QAAQ;QACX,SAAS,IAAI,sHAAW,CAAC;QACzB,MAAM,OAAO,OAAO;IACtB;IAEA,KAAK,OAAO,EAAE,CAAC,QAAQ,GAAG,CAAC,UAAU,IAAI;IAEzC,MAAM,QAAQ,GAAG,UAAU,CAAC;IAC5B,MAAM,MAAM,WAAW,CAAC;QAAE,OAAO;IAAE,GAAG;QAAE,QAAQ;IAAK;IACrD,MAAM,MAAM,WAAW,CAAC;QAAE,UAAU;IAAE,GAAG;QAAE,QAAQ;QAAM,QAAQ;IAAK;IAEtE,OAAO;AACT;AAEO,eAAe;IACpB,IAAI,QAAQ;QACV,MAAM,OAAO,KAAK;QAClB,SAAS;QACT,KAAK;IACP;AACF"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhruvashedbalkar/Desktop/QB.Club/app/api/stats/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport { getDb } from '@/lib/db'\n\nexport const runtime = 'nodejs'\n\nexport async function GET() {\n  try {\n    const db = await getDb()\n    const usersCount = await db.collection('users').countDocuments({})\n    return NextResponse.json({ usersCount })\n  } catch (e) {\n    return NextResponse.json({ usersCount: 0 }, { status: 200 })\n  }\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAEhB,eAAe;IACpB,IAAI;QACF,MAAM,KAAK,MAAM,IAAA,6IAAK;QACtB,MAAM,aAAa,MAAM,GAAG,UAAU,CAAC,SAAS,cAAc,CAAC,CAAC;QAChE,OAAO,wSAAY,CAAC,IAAI,CAAC;YAAE;QAAW;IACxC,EAAE,OAAO,GAAG;QACV,OAAO,wSAAY,CAAC,IAAI,CAAC;YAAE,YAAY;QAAE,GAAG;YAAE,QAAQ;QAAI;IAC5D;AACF"}}]
}