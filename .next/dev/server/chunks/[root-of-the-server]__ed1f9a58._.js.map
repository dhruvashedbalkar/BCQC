{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhruvashedbalkar/Desktop/QB.Club/lib/db.ts"],"sourcesContent":["import { MongoClient, Db } from 'mongodb'\n\nlet client: MongoClient | null = null\nlet db: Db | null = null\n\nexport async function getDb(): Promise<Db> {\n  const uri = process.env.MONGODB_URI\n  if (!uri) {\n    throw new Error('MONGODB_URI env var is not set')\n  }\n\n  if (db) return db\n\n  if (!client) {\n    client = new MongoClient(uri)\n    await client.connect()\n  }\n\n  db = client.db(process.env.MONGODB_DB || 'BCQC')\n\n  const users = db.collection('users')\n  await users.createIndex({ email: 1 }, { unique: true })\n\n  return db\n}\n\nexport async function closeDb() {\n  if (client) {\n    await client.close()\n    client = null\n    db = null\n  }\n}"],"names":[],"mappings":";;;;;;AAAA;;AAEA,IAAI,SAA6B;AACjC,IAAI,KAAgB;AAEb,eAAe;IACpB,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;IACnC,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,IAAI,OAAO;IAEf,IAAI,CAAC,QAAQ;QACX,SAAS,IAAI,sHAAW,CAAC;QACzB,MAAM,OAAO,OAAO;IACtB;IAEA,KAAK,OAAO,EAAE,CAAC,QAAQ,GAAG,CAAC,UAAU,IAAI;IAEzC,MAAM,QAAQ,GAAG,UAAU,CAAC;IAC5B,MAAM,MAAM,WAAW,CAAC;QAAE,OAAO;IAAE,GAAG;QAAE,QAAQ;IAAK;IAErD,OAAO;AACT;AAEO,eAAe;IACpB,IAAI,QAAQ;QACV,MAAM,OAAO,KAAK;QAClB,SAAS;QACT,KAAK;IACP;AACF"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///Users/dhruvashedbalkar/Desktop/QB.Club/app/api/members/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nexport const runtime = 'nodejs'\nimport { getDb } from '@/lib/db'\n\ntype Member = {\n  name: string\n  role: string\n  skills: string[]\n}\n\nconst SKILLS = [\n  'Solidity',\n  'Rust',\n  'Go',\n  'Python',\n  'Qiskit',\n  'TensorFlow',\n  'PyTorch',\n  'Substrate',\n  'Cosmos SDK',\n  'Smart Contracts',\n  'Design',\n  'Figma',\n  'Marketing',\n  'Community',\n  'Cryptography',\n  'AI/ML',\n  'React',\n]\n\nfunction pickRandomSkills(count: number) {\n  const out: string[] = []\n  const used = new Set<number>()\n  while (out.length < count && used.size < SKILLS.length) {\n    const i = Math.floor(Math.random() * SKILLS.length)\n    if (!used.has(i)) {\n      used.add(i)\n      out.push(SKILLS[i])\n    }\n  }\n  return out\n}\n\nexport async function GET() {\n  try {\n    const db = await getDb()\n    const users = db.collection<{ email: string; walletAddress?: string | null; createdAt?: Date }>('users')\n    const docs = await users\n      .find({}, { projection: { email: 1, walletAddress: 1, createdAt: 1 } })\n      .sort({ createdAt: -1 })\n      .toArray()\n\n    const members: Member[] = docs.map((u) => {\n      const name = u.email || (u.walletAddress ? u.walletAddress : 'Member')\n      return {\n        name,\n        role: 'Member',\n        skills: pickRandomSkills(3),\n      }\n    })\n\n    return NextResponse.json({ members })\n  } catch (e) {\n    const msg = e instanceof Error ? e.message : 'Unexpected error'\n    return NextResponse.json({ error: msg }, { status: 500 })\n  }\n}"],"names":[],"mappings":";;;;;;AAAA;AAEA;;AADO,MAAM,UAAU;;AASvB,MAAM,SAAS;IACb;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,SAAS,iBAAiB,KAAa;IACrC,MAAM,MAAgB,EAAE;IACxB,MAAM,OAAO,IAAI;IACjB,MAAO,IAAI,MAAM,GAAG,SAAS,KAAK,IAAI,GAAG,OAAO,MAAM,CAAE;QACtD,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,OAAO,MAAM;QAClD,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI;YAChB,KAAK,GAAG,CAAC;YACT,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE;QACpB;IACF;IACA,OAAO;AACT;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,KAAK,MAAM,IAAA,6IAAK;QACtB,MAAM,QAAQ,GAAG,UAAU,CAAqE;QAChG,MAAM,OAAO,MAAM,MAChB,IAAI,CAAC,CAAC,GAAG;YAAE,YAAY;gBAAE,OAAO;gBAAG,eAAe;gBAAG,WAAW;YAAE;QAAE,GACpE,IAAI,CAAC;YAAE,WAAW,CAAC;QAAE,GACrB,OAAO;QAEV,MAAM,UAAoB,KAAK,GAAG,CAAC,CAAC;YAClC,MAAM,OAAO,EAAE,KAAK,IAAI,CAAC,EAAE,aAAa,GAAG,EAAE,aAAa,GAAG,QAAQ;YACrE,OAAO;gBACL;gBACA,MAAM;gBACN,QAAQ,iBAAiB;YAC3B;QACF;QAEA,OAAO,8XAAY,CAAC,IAAI,CAAC;YAAE;QAAQ;IACrC,EAAE,OAAO,GAAG;QACV,MAAM,MAAM,aAAa,QAAQ,EAAE,OAAO,GAAG;QAC7C,OAAO,8XAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAI,GAAG;YAAE,QAAQ;QAAI;IACzD;AACF"}}]
}